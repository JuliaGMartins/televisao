{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { auth, db, firebase } from \"./firebase\";\nimport { signInWithEmailAndPassword } from \"firebase/auth\";\nimport { collection, getDocs, updateDoc, doc, query, where } from 'firebase/firestore';\nexport var loginAuth = function () {\n  var _ref = _asyncToGenerator(function* (email, password) {\n    try {\n      yield signInWithEmailAndPassword(auth, email, password);\n      return getUser();\n    } catch (error) {\n      if (error.code === \"auth/user-not-found\") {\n        return \"User does not exist.\";\n      }\n      if (error.code === \"auth/wrong-password\") {\n        return \"Wrong password.\";\n      }\n      if (error.code === \"auth/invalid-email\") {\n        return \"Invalid email.\";\n      }\n      return error.message;\n    }\n  });\n  return function loginAuth(_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar getUser = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    var users = [];\n    var user = auth.currentUser;\n    var uid = user.uid;\n    var usersRef = collection(db, \"Users\");\n    var acceptedQuery = query(usersRef, where(\"id\", \"==\", uid));\n    var querySnapshot = yield getDocs(acceptedQuery);\n    querySnapshot.forEach(function (u) {\n      return users.push({\n        'data': u.data()\n      });\n    });\n  });\n  return function getUser() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport default {\n  loginAuth: loginAuth\n};","map":{"version":3,"names":["auth","db","firebase","signInWithEmailAndPassword","collection","getDocs","updateDoc","doc","query","where","loginAuth","_ref","_asyncToGenerator","email","password","getUser","error","code","message","_x","_x2","apply","arguments","_ref2","users","user","currentUser","uid","usersRef","acceptedQuery","querySnapshot","forEach","u","push","data"],"sources":["/home/juliagm/televisao/src/Config/firebaseAuth.js"],"sourcesContent":["import { auth, db, firebase } from \"./firebase\";\nimport { signInWithEmailAndPassword\n} from \"firebase/auth\";\nimport { collection, getDocs, updateDoc, doc,  query, where} from 'firebase/firestore';\n\nexport const loginAuth = async (email, password) => {\n  try{\n    await signInWithEmailAndPassword(\n      auth, \n      email, \n      password\n    );\n    return getUser();\n  } catch (error){\n    if(error.code === \"auth/user-not-found\"){\n      return \"User does not exist.\";\n    }\n    if(error.code === \"auth/wrong-password\"){\n      return \"Wrong password.\";\n    }\n    if(error.code === \"auth/invalid-email\"){\n      return \"Invalid email.\";\n    }\n    return error.message;\n  }\n}\n\nconst getUser = async () => {\n  let users = [];\n  let user = auth.currentUser;\n  let uid = user.uid;\n  let usersRef = collection(db, \"Users\");\n  let acceptedQuery = query(usersRef, where(\"id\", \"==\", uid));\n  \n  let querySnapshot = await getDocs(acceptedQuery);\n  querySnapshot.forEach(u => {\n    return users.push({'data': u.data()}); \n  });\n}\n\nexport default { loginAuth };"],"mappings":";AAAA,SAASA,IAAI,EAAEC,EAAE,EAAEC,QAAQ;AAC3B,SAASC,0BAA0B,QAC5B,eAAe;AACtB,SAASC,UAAU,EAAEC,OAAO,EAAEC,SAAS,EAAEC,GAAG,EAAGC,KAAK,EAAEC,KAAK,QAAO,oBAAoB;AAEtF,OAAO,IAAMC,SAAS;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,KAAK,EAAEC,QAAQ,EAAK;IAClD,IAAG;MACD,MAAMX,0BAA0B,CAC9BH,IAAI,EACJa,KAAK,EACLC,QACF,CAAC;MACD,OAAOC,OAAO,CAAC,CAAC;IAClB,CAAC,CAAC,OAAOC,KAAK,EAAC;MACb,IAAGA,KAAK,CAACC,IAAI,KAAK,qBAAqB,EAAC;QACtC,OAAO,sBAAsB;MAC/B;MACA,IAAGD,KAAK,CAACC,IAAI,KAAK,qBAAqB,EAAC;QACtC,OAAO,iBAAiB;MAC1B;MACA,IAAGD,KAAK,CAACC,IAAI,KAAK,oBAAoB,EAAC;QACrC,OAAO,gBAAgB;MACzB;MACA,OAAOD,KAAK,CAACE,OAAO;IACtB;EACF,CAAC;EAAA,gBApBYR,SAASA,CAAAS,EAAA,EAAAC,GAAA;IAAA,OAAAT,IAAA,CAAAU,KAAA,OAAAC,SAAA;EAAA;AAAA,GAoBrB;AAED,IAAMP,OAAO;EAAA,IAAAQ,KAAA,GAAAX,iBAAA,CAAG,aAAY;IAC1B,IAAIY,KAAK,GAAG,EAAE;IACd,IAAIC,IAAI,GAAGzB,IAAI,CAAC0B,WAAW;IAC3B,IAAIC,GAAG,GAAGF,IAAI,CAACE,GAAG;IAClB,IAAIC,QAAQ,GAAGxB,UAAU,CAACH,EAAE,EAAE,OAAO,CAAC;IACtC,IAAI4B,aAAa,GAAGrB,KAAK,CAACoB,QAAQ,EAAEnB,KAAK,CAAC,IAAI,EAAE,IAAI,EAAEkB,GAAG,CAAC,CAAC;IAE3D,IAAIG,aAAa,SAASzB,OAAO,CAACwB,aAAa,CAAC;IAChDC,aAAa,CAACC,OAAO,CAAC,UAAAC,CAAC,EAAI;MACzB,OAAOR,KAAK,CAACS,IAAI,CAAC;QAAC,MAAM,EAAED,CAAC,CAACE,IAAI,CAAC;MAAC,CAAC,CAAC;IACvC,CAAC,CAAC;EACJ,CAAC;EAAA,gBAXKnB,OAAOA,CAAA;IAAA,OAAAQ,KAAA,CAAAF,KAAA,OAAAC,SAAA;EAAA;AAAA,GAWZ;AAED,eAAe;EAAEZ,SAAS,EAATA;AAAU,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}